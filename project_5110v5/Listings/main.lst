


ARM Macro Assembler    Page 1 


    1 00000000                 AREA             main, CODE, READONLY
    2 00000000                 THUMB
    3 00000000         
    4 00000000                 EXPORT           __main
    5 00000000         __main
    6 00000000         ;---------------initiations------------
    7 00000000         ;----LCD----
    8 00000000                 IMPORT           init_pll
    9 00000000 F7FF FFFE       BL               init_pll
   10 00000004         
   11 00000004                 IMPORT           init_gpio
   12 00000004 F7FF FFFE       BL               init_gpio   ;init gpio A for sp
                                                            i pins(clk, mosi, c
                                                            e) and lcd pins(res
                                                            et, dc)
   13 00000008         
   14 00000008                 IMPORT           init_spi
   15 00000008 F7FF FFFE       BL               init_spi
   16 0000000C         
   17 0000000C                 IMPORT           init_lcd
   18 0000000C F7FF FFFE       BL               init_lcd    ;set LCD Vop, temp 
                                                            coeff, bias and bas
                                                            ic commands 
   19 00000010         
   20 00000010                 IMPORT           clearLcdScreen
   21 00000010 F7FF FFFE       BL               clearLcdScreen
   22 00000014         
   23 00000014                 IMPORT           lcdWriteData
   24 00000014                 IMPORT           lcdWriteCmd
   25 00000014                 IMPORT           setCursor
   26 00000014                 IMPORT           lcdDrawCursor
   27 00000014                 IMPORT           lcdDrawNum
   28 00000014                 IMPORT           lcdDrawXY
   29 00000014                 IMPORT           lcdDrawChar
   30 00000014                 IMPORT           lcdDrawRemainingTime
   31 00000014                 IMPORT           lcdDrawBattleship
   32 00000014                 IMPORT           lcdDrawCivilianship
   33 00000014                 IMPORT           lcdDrawShips
   34 00000014         ;----ADC----
   35 00000014                 IMPORT           init_portE  ;init portE(pe3 and
                                                             pe2)
   36 00000014 F7FF FFFE       BL               init_portE
   37 00000018                 IMPORT           init_adc    ;init adc for readi
                                                            ng from two differe
                                                            nt potentiometers
   38 00000018 F7FF FFFE       BL               init_adc
   39 0000001C         
   40 0000001C                 IMPORT           read_ADC    ;readADC function r
                                                            eturns sampled valu
                                                            es of pe3 and pe2 a
                                                            nalog inputs in R3 
                                                            and R4
   41 0000001C         ;---------------------------------
   42 0000001C         ;----Buttons-----
   43 0000001C                 IMPORT           init_portF
   44 0000001C F7FF FFFE       BL               init_portF
   45 00000020         ;----------------
   46 00000020         ;----Timers------
   47 00000020                 IMPORT           init_timer_1



ARM Macro Assembler    Page 2 


   48 00000020 F7FF FFFE       BL               init_timer_1
   49 00000024                 IMPORT           init_timer_0
   50 00000024 F7FF FFFE       BL               init_timer_0
   51 00000028         ;----------------
   52 00000028         ;----Helpers-----
   53 00000028                 IMPORT           check_buttons
   54 00000028                 IMPORT           sf
   55 00000028         ;----------------
   56 00000028         
   57 00000028 B662            CPSIE            I           ;enable interrupts
   58 0000002A         
   59 0000002A         loop
   60 0000002A F7FF FFFE       BL               check_buttons
   61 0000002E F7FF FFFE       BL               clearLcdScreen ;clear entire sc
                                                            reen at the beginni
                                                            ng of every loop
   62 00000032 E92D 0318       PUSH             {R3,R4,R8,R9}
   63 00000036 F7FF FFFE       BL               read_ADC
   64 0000003A 4698            MOV              R8,R3       ;move returned valu
                                                            es from read_ADC
   65 0000003C 46A1            MOV              R9,R4       ;so that draw funct
                                                            ions can understand
                                                            
   66 0000003E F7FF FFFE       BL               lcdDrawXY
   67 00000042 F7FF FFFE       BL               lcdDrawRemainingTime
   68 00000046 F7FF FFFE       BL               lcdDrawCursor ;draw cursor at t
                                                            he position defined
                                                             by ADC readings
   69 0000004A E8BD 0318       POP              {R3,R4,R8,R9}
   70 0000004E F7FF FFFE       BL               lcdDrawShips
   71 00000052 E7EA            B                loop
   72 00000054         
   73 00000054         loop2
   74 00000054 F7FF FFFE       BL               clearLcdScreen
   75 00000058 E7FC            B                loop2
   76 0000005A         
   77 0000005A 00 00           ALIGN
   78 0000005C                 END
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\main.d -o.\objects\main.o -I.\RTE\_Target_1 -IC:\Keil
_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v5\ARM\CMSIS\
Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SETA 526" --
predefine="TM4C123GH6PM SETA 1" --list=.\listings\main.lst main.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

__main 00000000

Symbol: __main
   Definitions
      At line 5 in file main.s
   Uses
      At line 4 in file main.s
Comment: __main used once
loop 0000002A

Symbol: loop
   Definitions
      At line 59 in file main.s
   Uses
      At line 71 in file main.s
Comment: loop used once
loop2 00000054

Symbol: loop2
   Definitions
      At line 73 in file main.s
   Uses
      At line 75 in file main.s
Comment: loop2 used once
main 00000000

Symbol: main
   Definitions
      At line 1 in file main.s
   Uses
      None
Comment: main unused
4 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

check_buttons 00000000

Symbol: check_buttons
   Definitions
      At line 53 in file main.s
   Uses
      At line 60 in file main.s
Comment: check_buttons used once
clearLcdScreen 00000000

Symbol: clearLcdScreen
   Definitions
      At line 20 in file main.s
   Uses
      At line 21 in file main.s
      At line 61 in file main.s
      At line 74 in file main.s

init_adc 00000000

Symbol: init_adc
   Definitions
      At line 37 in file main.s
   Uses
      At line 38 in file main.s
Comment: init_adc used once
init_gpio 00000000

Symbol: init_gpio
   Definitions
      At line 11 in file main.s
   Uses
      At line 12 in file main.s
Comment: init_gpio used once
init_lcd 00000000

Symbol: init_lcd
   Definitions
      At line 17 in file main.s
   Uses
      At line 18 in file main.s
Comment: init_lcd used once
init_pll 00000000

Symbol: init_pll
   Definitions
      At line 8 in file main.s
   Uses
      At line 9 in file main.s
Comment: init_pll used once
init_portE 00000000

Symbol: init_portE
   Definitions
      At line 35 in file main.s
   Uses
      At line 36 in file main.s
Comment: init_portE used once
init_portF 00000000



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
External symbols


Symbol: init_portF
   Definitions
      At line 43 in file main.s
   Uses
      At line 44 in file main.s
Comment: init_portF used once
init_spi 00000000

Symbol: init_spi
   Definitions
      At line 14 in file main.s
   Uses
      At line 15 in file main.s
Comment: init_spi used once
init_timer_0 00000000

Symbol: init_timer_0
   Definitions
      At line 49 in file main.s
   Uses
      At line 50 in file main.s
Comment: init_timer_0 used once
init_timer_1 00000000

Symbol: init_timer_1
   Definitions
      At line 47 in file main.s
   Uses
      At line 48 in file main.s
Comment: init_timer_1 used once
lcdDrawBattleship 00000000

Symbol: lcdDrawBattleship
   Definitions
      At line 31 in file main.s
   Uses
      None
Comment: lcdDrawBattleship unused
lcdDrawChar 00000000

Symbol: lcdDrawChar
   Definitions
      At line 29 in file main.s
   Uses
      None
Comment: lcdDrawChar unused
lcdDrawCivilianship 00000000

Symbol: lcdDrawCivilianship
   Definitions
      At line 32 in file main.s
   Uses
      None
Comment: lcdDrawCivilianship unused
lcdDrawCursor 00000000

Symbol: lcdDrawCursor
   Definitions



ARM Macro Assembler    Page 3 Alphabetic symbol ordering
External symbols

      At line 26 in file main.s
   Uses
      At line 68 in file main.s
Comment: lcdDrawCursor used once
lcdDrawNum 00000000

Symbol: lcdDrawNum
   Definitions
      At line 27 in file main.s
   Uses
      None
Comment: lcdDrawNum unused
lcdDrawRemainingTime 00000000

Symbol: lcdDrawRemainingTime
   Definitions
      At line 30 in file main.s
   Uses
      At line 67 in file main.s
Comment: lcdDrawRemainingTime used once
lcdDrawShips 00000000

Symbol: lcdDrawShips
   Definitions
      At line 33 in file main.s
   Uses
      At line 70 in file main.s
Comment: lcdDrawShips used once
lcdDrawXY 00000000

Symbol: lcdDrawXY
   Definitions
      At line 28 in file main.s
   Uses
      At line 66 in file main.s
Comment: lcdDrawXY used once
lcdWriteCmd 00000000

Symbol: lcdWriteCmd
   Definitions
      At line 24 in file main.s
   Uses
      None
Comment: lcdWriteCmd unused
lcdWriteData 00000000

Symbol: lcdWriteData
   Definitions
      At line 23 in file main.s
   Uses
      None
Comment: lcdWriteData unused
read_ADC 00000000

Symbol: read_ADC
   Definitions
      At line 40 in file main.s
   Uses
      At line 63 in file main.s



ARM Macro Assembler    Page 4 Alphabetic symbol ordering
External symbols

Comment: read_ADC used once
setCursor 00000000

Symbol: setCursor
   Definitions
      At line 25 in file main.s
   Uses
      None
Comment: setCursor unused
sf 00000000

Symbol: sf
   Definitions
      At line 54 in file main.s
   Uses
      None
Comment: sf unused
24 symbols
362 symbols in table
