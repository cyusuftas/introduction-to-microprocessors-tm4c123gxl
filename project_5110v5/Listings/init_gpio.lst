


ARM Macro Assembler    Page 1 


    1 00000000 4000452C 
                       GPIO_PORTA_PCTL
                               EQU              0x4000452C
    2 00000000 40004528 
                       GPIO_PORTA_AMSEL
                               EQU              0x40004528
    3 00000000 40004400 
                       GPIO_PORTA_DIR
                               EQU              0x40004400
    4 00000000 40004510 
                       GPIO_PORTA_PUR
                               EQU              0x40004510
    5 00000000 40004420 
                       GPIO_PORTA_AFSEL
                               EQU              0x40004420
    6 00000000 4000451C 
                       GPIO_PORTA_DEN
                               EQU              0x4000451C
    7 00000000         
    8 00000000 400FE608 
                       SYSCTL_RCGCGPIO
                               EQU              0x400FE608
    9 00000000 400FEA08 
                       PRGPIO  EQU              0x400FEA08
   10 00000000         
   11 00000000                 AREA             initgpio, CODE, READONLY
   12 00000000                 THUMB
   13 00000000         
   14 00000000                 EXPORT           init_gpio
   15 00000000         init_gpio
                               PROC
   16 00000000 B404            PUSH             {R2}
   17 00000002 4917            LDR              R1,=SYSCTL_RCGCGPIO
   18 00000004 6808            LDR              R0,[R1]
   19 00000006 F040 0001       ORR              R0,#0x01    ;Enable GPIO clock 
                                                            for PortA 
   20 0000000A 6008            STR              R0,[R1]
   21 0000000C         
   22 0000000C 4915            LDR              R1,=PRGPIO
   23 0000000E         check
   24 0000000E 6808            LDR              R0,[R1]
   25 00000010 F000 0001       AND              R0,#1
   26 00000014 2801            CMP              R0,#1
   27 00000016 D1FA            BNE              check
   28 00000018         
   29 00000018 4913            LDR              R1,=GPIO_PORTA_DIR 
                                                            ;config of PortA 
   30 0000001A 6808            LDR              R0,[R1]
   31 0000001C F040 00C0       ORR              R0,#0xC0    ;set pa7 and pa6 as
                                                             output pins
   32 00000020 6008            STR              R0,[R1]
   33 00000022         ;  LDR  R1,=GPIO_PORTA_PUR
   34 00000022         ;  LDR  R0,[R1]
   35 00000022         ;  ORR  R0,#4      ;pa2(ssi0 clk) is set high when it is
                        not driven
   36 00000022         ;  STR  R0,[R1]
   37 00000022 4912            LDR              R1,=GPIO_PORTA_AFSEL ;portB wil
                                                            l be used for digit
                                                            al operations



ARM Macro Assembler    Page 2 


   38 00000024 6808            LDR              R0,[R1]
   39 00000026 F040 002C       ORR              R0,R0,#0x2C ;choose alternative
                                                             func for pa5,3,2
   40 0000002A F020 00C0       BIC              R0,#0xC0    ;disable alternativ
                                                            e func. for pa6 and
                                                             pa7
   41 0000002E 6008            STR              R0,[R1]
   42 00000030 490F            LDR              R1,=GPIO_PORTA_PCTL
   43 00000032 6808            LDR              R0,[R1]
   44 00000034 F242 2200 
              F2C0 0220        MOV32            R2,#0x00202200
   45 0000003C EA40 0002       ORR              R0,R0,R2    ;pa5: ssi0 tx, pa3:
                                                             ssi0 fss, pa2: ssi
                                                            0 clk 
   46 00000040 F020 407F       BIC              R0,#0xFF000000
   47 00000044 6008            STR              R0,[R1]
   48 00000046 490B            LDR              R1,=GPIO_PORTA_AMSEL
   49 00000048 6808            LDR              R0,[R1]     ;disable analog for
                                                             pa5,pa3,pa2,pa6,pa
                                                            7
   50 0000004A F020 00EC       BIC              R0,#0xEC
   51 0000004E 6008            STR              R0,[R1]
   52 00000050 4909            LDR              R1,=GPIO_PORTA_DEN ;enable port
                                                            
   53 00000052 6808            LDR              R0,[R1]
   54 00000054 F040 00EC       ORR              R0,#0xEC
   55 00000058 6008            STR              R0,[R1]
   56 0000005A         
   57 0000005A BC04            POP              {R2}
   58 0000005C 4770            BX               LR
   59 0000005E         
   60 0000005E                 ENDP
   61 0000005E 00 00           ALIGN
   62 00000060                 END
              400FE608 
              400FEA08 
              40004400 
              40004420 
              4000452C 
              40004528 
              4000451C 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M4.fp --apcs=int
erwork --depend=.\objects\init_gpio.d -o.\objects\init_gpio.o -I.\RTE\_Target_1
 -IC:\Keil_v5\ARM\PACK\Keil\TM4C_DFP\1.1.0\Device\Include\TM4C123 -IC:\Keil_v5\
ARM\CMSIS\Include --predefine="__EVAL SETA 1" --predefine="__UVISION_VERSION SE
TA 526" --predefine="TM4C123GH6PM SETA 1" --list=.\listings\init_gpio.lst init_
gpio.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

check 0000000E

Symbol: check
   Definitions
      At line 23 in file init_gpio.s
   Uses
      At line 27 in file init_gpio.s
Comment: check used once
init_gpio 00000000

Symbol: init_gpio
   Definitions
      At line 15 in file init_gpio.s
   Uses
      At line 14 in file init_gpio.s
Comment: init_gpio used once
initgpio 00000000

Symbol: initgpio
   Definitions
      At line 11 in file init_gpio.s
   Uses
      None
Comment: initgpio unused
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

GPIO_PORTA_AFSEL 40004420

Symbol: GPIO_PORTA_AFSEL
   Definitions
      At line 5 in file init_gpio.s
   Uses
      At line 37 in file init_gpio.s
Comment: GPIO_PORTA_AFSEL used once
GPIO_PORTA_AMSEL 40004528

Symbol: GPIO_PORTA_AMSEL
   Definitions
      At line 2 in file init_gpio.s
   Uses
      At line 48 in file init_gpio.s
Comment: GPIO_PORTA_AMSEL used once
GPIO_PORTA_DEN 4000451C

Symbol: GPIO_PORTA_DEN
   Definitions
      At line 6 in file init_gpio.s
   Uses
      At line 52 in file init_gpio.s
Comment: GPIO_PORTA_DEN used once
GPIO_PORTA_DIR 40004400

Symbol: GPIO_PORTA_DIR
   Definitions
      At line 3 in file init_gpio.s
   Uses
      At line 29 in file init_gpio.s
Comment: GPIO_PORTA_DIR used once
GPIO_PORTA_PCTL 4000452C

Symbol: GPIO_PORTA_PCTL
   Definitions
      At line 1 in file init_gpio.s
   Uses
      At line 42 in file init_gpio.s
Comment: GPIO_PORTA_PCTL used once
GPIO_PORTA_PUR 40004510

Symbol: GPIO_PORTA_PUR
   Definitions
      At line 4 in file init_gpio.s
   Uses
      None
Comment: GPIO_PORTA_PUR unused
PRGPIO 400FEA08

Symbol: PRGPIO
   Definitions
      At line 9 in file init_gpio.s
   Uses
      At line 22 in file init_gpio.s
Comment: PRGPIO used once
SYSCTL_RCGCGPIO 400FE608

Symbol: SYSCTL_RCGCGPIO



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Absolute symbols

   Definitions
      At line 8 in file init_gpio.s
   Uses
      At line 17 in file init_gpio.s
Comment: SYSCTL_RCGCGPIO used once
8 symbols
347 symbols in table
